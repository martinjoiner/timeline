<!doctype html>
 
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Timeline</title>
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.9.2/themes/base/jquery-ui.css" />
    <script src="http://code.jquery.com/jquery-1.8.3.js"></script>
    <script src="http://code.jquery.com/ui/1.9.2/jquery-ui.js"></script>
    <link rel="stylesheet" href="css/main.css" />
    <script>
    $(function() {

        $(".element").mouseover( function(){$(this).children('.date').show() }).mouseout(function(){$(this).children('.date').hide() });
        
    	rescale(10);
		$(".resizable").each( function(){
			$(this).css('height',$(this).data('height')).children('.element').css('height',$(this).data('height')-35);
		} );
        $( ".resizable" ).resizable({
		    start:function () {
		      
		    },
		    stop:function () {
		     
		    },
		    resize:function () {
			  $(this).children('.element').css('height',parseInt($(this).css('height').substring(0,$(this).css('height').length-2))-35);
			  
		    }
		  });

    	$('#scale').change( function(){ rescale($(this).attr('value')) } );
    });

    function rescale(scale){
    	scale=scale/10;
    	console.log(scale);

    	$(".element").each( function() {
    		$(this).css('width',$(this).data('duration')*scale);
    		$(this).css({left:$(this).data('start')*scale+'px'});
    	});
    }
    </script>
</head>
<body>
	<h1>Timeline</h1>

	<input type="number" id="scale" name="scale" value="10">
 
	<div class="resizable ui-widget-content cat1" data-height="90">
		<div class="element" data-start="0" data-duration="200">
			<div class="start date">12 Nov 2011</div>
			<div class="end date">1 January 2012</div>
			<h2>Job 1</h2>
			<div class="arrow"></div>
		</div>
		<div class="element" data-start="210" data-duration="100">
			<div class="start date">12 Nov 2011</div>
			<div class="end date">1 January 2012</div>
			<h2>Job 2</h2>
			<div class="arrow"></div>
		</div>
		<div class="element" data-start="302" data-duration="200">
			<div class="arrow"></div>
		</div>
		<div class="element" data-start="600" data-duration="200">
			<div class="arrow"></div>
		</div>
	</div>

	<div class="resizable ui-widget-content cat2" data-height="160">
		<div class="element" data-start="10" data-duration="143">
			<div class="start date">12 Nov 2011</div>
			<div class="end date">1 January 2012</div>
			<h2>Girl Number 1</h2>
			<div class="arrow"></div>
		</div>
		<div class="element" data-start="160" data-duration="643">
			<div class="start date">12 Nov 2011</div>
			<div class="end date">1 January 2012</div>
			<h2>Girl Number 2</h2>
			<div class="arrow"></div>
		</div>
		<div class="element" data-start="900" data-duration="180"></div>
		
		<div class="element" data-start="900" data-duration="239"></div>
	</div>

	<div class="resizable ui-widget-content cat3" data-height="120">
		<div class="element" data-start="30" data-duration="150">
			<div class="start date">12 Nov 2011</div>
			<div class="end date">1 January 2012</div>
			<h2>Location 1</h2>
		</div>
		<div class="element" data-start="900" data-duration="200"></div>
		<div class="element" data-start="1200" data-duration="200"></div>
	</div>

	<footer class="post-info">

	</footer>
		
</body>
</html>